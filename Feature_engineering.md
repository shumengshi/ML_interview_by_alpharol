### 百面机器学习 —— 第一章 特征工程

<br/>

#### 01  特征归一化

**问：什么样的变量需要特征归一化？**

答：数值型变量，类别型变量是不需要的

**问：为什么要特征归一化？**

答：首先，为了消除量纲对数据分析的影响。比如当我们衡量一个人的身高体重对健康的影响且体重选择kg作为单位时，身高单位选择cm或者m就有很大的差别。因为结果会倾向于数据分散程度（方差）比较大的部分。当我们选择cm作为单位时，身高的影响程度大；当我们选择m做单位时，体重的影响程度大。

&#160; &#160; &#160; &#160; 其次，数据归一化后，在使用梯度下降法时求解的速度会更快。实际应用中，使用梯度下降法求解的一般都需要对数据进行归一化，比如线性回归，逻辑回归，神经网络等等。但是像决策树算法一般就不需要数据归一化，因为他一般都会把数据分类变成类别型变量。

**问：特征归一化的方法**

答：线性函数归一化(Min-Max Scaling)：对原始数据进行线性变换，将其映射到$[0,1]$区间内。

$$X_{norm} = \dfrac{X-X_{min}}{X_{max}-X_{min}}$$

零均值归一法：将原始数据映射到均值为0，标准差为1的分布上。即如果数据的均值为$\mu$，标准差为$\sigma$，那么归一化的公式为：

$$z = \dfrac{x-\mu}{\sigma}$$



<br/>

#### 02 类别型变量

&#160; &#160; &#160; &#160;类别型变量的输入一般是字符串的形式，除了决策树外一般没有模型可以处理这种输入。需要转换成数值型变量。转换的方式有如下三种：

**序号编码：** 适用于数据之间有大小关系的特征。比如成绩分为A>B>C，我们可以使用3>2>1来代表；

**独热编码：** 英文One-hot，适用于数据之间没有大小关系的特征。比如血型A/B/AB/O。编码形式：



| 血型 | 独热编码   |
| ---- | ---------- |
| A    | 1  0  0  0 |
| B    | 0  1  0  0 |
| AB   | 0  0  1  0 |
| O    | 0  0  0  1 |

&#160; &#160; &#160; &#160;需要注意的是当分类较多的时候，独热编码是非常稀疏的，可以使用下面三种方式处理：

1. 采用稀疏向量来节省空间
2. 是否可以进行特征选择
3. 使用降维的方法

**二进制编码：** 首先给每个类别赋予一个ID，然后将类别ID对应的二进制编码作为结果。本质上是使用了二进制对ID进行了哈希映射。这样得到的向量的维数将明显小于独热编码。

| 血型 | ID   | 二进制编码 | 独热编码   |
| ---- | ---- | ---------- | ---------- |
| A    | 1    | 0  0  1    | 1  0  0  0 |
| B    | 2    | 0  1  0    | 0  1  0  0 |
| AB   | 3    | 0  1  1    | 0  0  1  0 |
| O    | 4    | 1  0  0    | 0  0  0  1 |

